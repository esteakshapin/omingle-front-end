{"ast":null,"code":"import _regeneratorRuntime from \"/home/esteakshapin/Documents/omingle/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/home/esteakshapin/Documents/omingle/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nvar _jsxFileName = \"/home/esteakshapin/Documents/omingle/src/pages/play/gameRoom/gameRoom.jsx\";\nimport React from \"react\";\nimport { withStyles } from \"@material-ui/core/styles\";\nimport MainGrid from \"./components/mainGrid\";\nimport axios from \"axios\";\nimport { withRouter } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst queryString = require('query-string'); // const useStyles = (theme) => ({\n//   root: {\n//     display: \"flex\",\n//     flexDirection: \"column\",\n//     minHeight: \"100vh\"\n//   },\n//   main: {\n//     marginTop: theme.spacing(8),\n//     marginBottom: theme.spacing(2),\n//     backgroundColor: \"red\"\n//   },\n//   mainGrid: {\n//     flexGrow: 1,\n//     backgroundColor: \"red\",\n//     marginTop: theme.spacing(2),\n//     marginBottom: theme.spacing(2)\n//     // width:\n//   },\n//   paper: {\n//     height: 140,\n//     width: 100\n//   }\n// });\n\n\nclass GameRoom extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      accessToken: null,\n      room: null\n    };\n  }\n\n  joinRoom() {\n    var _this = this;\n\n    return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      var response, data, room;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) switch (_context.prev = _context.next) {\n          case 0:\n            _context.prev = 0;\n            _context.next = 3;\n            return fetch(\"http://127.0.0.1:8000\", {\n              headers: {\n                'Autherization': \"JWT eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjoyLCJ1c2VybmFtZSI6InNoYXBpbmhhbWluIiwiZXhwIjoxNjEzODM5NDY2LCJlbWFpbCI6InNoYXBpbmhhbWluQGdtYWlsLmNvbSJ9.6thh6fljED5zILwJNXyoxZ7ur99bJGyFI4VrAXlOH0o\"\n              }\n            });\n\n          case 3:\n            response = _context.sent;\n            _context.next = 6;\n            return response.json();\n\n          case 6:\n            data = _context.sent;\n            console.log(data);\n            _context.next = 10;\n            return connect(data.accessToken, {\n              name: 'cool-room',\n              audio: true,\n              video: true\n            });\n\n          case 10:\n            room = _context.sent;\n\n            _this.setState({\n              room: room\n            });\n\n            _context.next = 17;\n            break;\n\n          case 14:\n            _context.prev = 14;\n            _context.t0 = _context[\"catch\"](0);\n            console.log(_context.t0);\n\n          case 17:\n          case \"end\":\n            return _context.stop();\n        }\n      }, _callee, null, [[0, 14]]);\n    }))();\n  }\n\n  componentDidMount() {\n    const parsed = queryString.parse(this.props.location.search);\n    this.setState({\n      accessToken: parsed.accessToken\n    }, () => console.log(this.state));\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(MainGrid, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default _c = withRouter(GameRoom);\n\nvar _c;\n\n$RefreshReg$(_c, \"%default%\");","map":{"version":3,"sources":["/home/esteakshapin/Documents/omingle/src/pages/play/gameRoom/gameRoom.jsx"],"names":["React","withStyles","MainGrid","axios","withRouter","queryString","require","GameRoom","Component","constructor","props","state","accessToken","room","joinRoom","fetch","headers","response","json","data","console","log","connect","name","audio","video","setState","componentDidMount","parsed","parse","location","search","render"],"mappings":";;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,UAAT,QAA2B,0BAA3B;AAEA,OAAOC,QAAP,MAAqB,uBAArB;AAEA,OAAOC,KAAP,MAAkB,OAAlB;AAEA,SAASC,UAAT,QAA2B,kBAA3B;;;AAEA,MAAMC,WAAW,GAAGC,OAAO,CAAC,cAAD,CAA3B,C,CAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAEA,MAAMC,QAAN,SAAuBP,KAAK,CAACQ,SAA7B,CAAuC;AACrCC,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACjB,UAAMA,KAAN;AACA,SAAKC,KAAL,GAAa;AACXC,MAAAA,WAAW,EAAE,IADF;AAEXC,MAAAA,IAAI,EAAE;AAFK,KAAb;AAID;;AAEKC,EAAAA,QAAQ,GAAG;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAEUC,KAAK,0BAA0B;AACpDC,cAAAA,OAAO,EAAE;AACP;AADO;AAD2C,aAA1B,CAFf;;AAAA;AAEPC,YAAAA,QAFO;AAAA;AAAA,mBAOMA,QAAQ,CAACC,IAAT,EAPN;;AAAA;AAOPC,YAAAA,IAPO;AAQbC,YAAAA,OAAO,CAACC,GAAR,CAAYF,IAAZ;AARa;AAAA,mBASMG,OAAO,CAACH,IAAI,CAACP,WAAN,EAAmB;AAC3CW,cAAAA,IAAI,EAAE,WADqC;AAE3CC,cAAAA,KAAK,EAAE,IAFoC;AAG3CC,cAAAA,KAAK,EAAE;AAHoC,aAAnB,CATb;;AAAA;AASPZ,YAAAA,IATO;;AAeb,YAAA,KAAI,CAACa,QAAL,CAAc;AAAEb,cAAAA,IAAI,EAAEA;AAAR,aAAd;;AAfa;AAAA;;AAAA;AAAA;AAAA;AAiBbO,YAAAA,OAAO,CAACC,GAAR;;AAjBa;AAAA;AAAA;AAAA;AAAA;AAAA;AAmBhB;;AAEDM,EAAAA,iBAAiB,GAAG;AAClB,UAAMC,MAAM,GAAGvB,WAAW,CAACwB,KAAZ,CAAkB,KAAKnB,KAAL,CAAWoB,QAAX,CAAoBC,MAAtC,CAAf;AACA,SAAKL,QAAL,CAAc;AACZd,MAAAA,WAAW,EAAEgB,MAAM,CAAChB;AADR,KAAd,EAEG,MAAMQ,OAAO,CAACC,GAAR,CAAY,KAAKV,KAAjB,CAFT;AAGD;;AAEDqB,EAAAA,MAAM,GAAG;AACP,wBACE,QAAC,QAAD;AAAA;AAAA;AAAA;AAAA,YADF;AAGD;;AAzCoC;;AA8CvC,oBAAe5B,UAAU,CAACG,QAAD,CAAzB","sourcesContent":["import React from \"react\";\nimport { withStyles } from \"@material-ui/core/styles\";\n\nimport MainGrid from \"./components/mainGrid\";\n\nimport axios from \"axios\";\n\nimport { withRouter } from 'react-router-dom';\n\nconst queryString = require('query-string');\n\n\n// const useStyles = (theme) => ({\n//   root: {\n//     display: \"flex\",\n//     flexDirection: \"column\",\n//     minHeight: \"100vh\"\n//   },\n//   main: {\n//     marginTop: theme.spacing(8),\n//     marginBottom: theme.spacing(2),\n//     backgroundColor: \"red\"\n//   },\n//   mainGrid: {\n//     flexGrow: 1,\n//     backgroundColor: \"red\",\n//     marginTop: theme.spacing(2),\n//     marginBottom: theme.spacing(2)\n//     // width:\n//   },\n//   paper: {\n//     height: 140,\n//     width: 100\n//   }\n// });\n\nclass GameRoom extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      accessToken: null,\n      room: null\n    }\n  }\n\n  async joinRoom() {\n    try {\n      const response = await fetch(`http://127.0.0.1:8000`, {\n        headers: {\n          'Autherization': `JWT eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjoyLCJ1c2VybmFtZSI6InNoYXBpbmhhbWluIiwiZXhwIjoxNjEzODM5NDY2LCJlbWFpbCI6InNoYXBpbmhhbWluQGdtYWlsLmNvbSJ9.6thh6fljED5zILwJNXyoxZ7ur99bJGyFI4VrAXlOH0o`\n        }\n      });\n      const data = await response.json();\n      console.log(data);\n      const room = await connect(data.accessToken, {\n        name: 'cool-room',\n        audio: true,\n        video: true\n      });\n\n      this.setState({ room: room });\n    } catch (err) {\n      console.log(err);\n    }\n  }\n\n  componentDidMount() {\n    const parsed = queryString.parse(this.props.location.search);\n    this.setState({\n      accessToken: parsed.accessToken\n    }, () => console.log(this.state));\n  }\n\n  render() {\n    return (\n      <MainGrid />\n    );\n  }\n\n\n}\n\nexport default withRouter(GameRoom);\n"]},"metadata":{},"sourceType":"module"}