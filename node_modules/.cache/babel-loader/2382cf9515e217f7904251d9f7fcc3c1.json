{"ast":null,"code":"import _regeneratorRuntime from \"/home/esteakshapin/Documents/omingle/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/home/esteakshapin/Documents/omingle/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nvar _jsxFileName = \"/home/esteakshapin/Documents/omingle/src/pages/play/queue/queue.jsx\";\nimport React from 'react';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass Queue extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      playersWaiting: 0,\n      intervalId: ''\n    };\n  }\n\n  componentDidMount() {\n    var _this = this;\n\n    return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      var intervalId;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) switch (_context.prev = _context.next) {\n          case 0:\n            try {\n              intervalId = setInterval(() => {\n                axios({\n                  method: 'GET',\n                  url: 'http://localhost:8000/team/get_team/',\n                  headers: {\n                    Authorization: \"JWT \".concat(localStorage.getItem('token'))\n                  }\n                }).then(res => {\n                  console.log(res);\n                });\n              }, 10000);\n\n              _this.setState({\n                intervalId: intervalId\n              });\n            } catch (e) {\n              console.log('error');\n            }\n\n          case 1:\n          case \"end\":\n            return _context.stop();\n        }\n      }, _callee);\n    }))();\n  }\n\n  componentWillUnmount() {\n    clearInterval(this.state.intervalId);\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: \"Queue Page\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nexport default Queue;","map":{"version":3,"sources":["/home/esteakshapin/Documents/omingle/src/pages/play/queue/queue.jsx"],"names":["React","axios","Queue","Component","constructor","props","state","playersWaiting","intervalId","componentDidMount","setInterval","method","url","headers","Authorization","localStorage","getItem","then","res","console","log","setState","e","componentWillUnmount","clearInterval","render"],"mappings":";;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,KAAP,MAAkB,OAAlB;;;AACA,MAAMC,KAAN,SAAoBF,KAAK,CAACG,SAA1B,CAAoC;AAChCC,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACf,UAAMA,KAAN;AACA,SAAKC,KAAL,GAAa;AACTC,MAAAA,cAAc,EAAE,CADP;AAETC,MAAAA,UAAU,EAAE;AAFH,KAAb;AAIH;;AAEKC,EAAAA,iBAAiB,GAAG;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAEtB,gBAAI;AACID,cAAAA,UADJ,GACiBE,WAAW,CAAC,MAAM;AAC/BT,gBAAAA,KAAK,CAAC;AACFU,kBAAAA,MAAM,EAAE,KADN;AAEFC,kBAAAA,GAAG,EAAE,sCAFH;AAGFC,kBAAAA,OAAO,EAAE;AACLC,oBAAAA,aAAa,gBAASC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAT;AADR;AAHP,iBAAD,CAAL,CAOGC,IAPH,CAOSC,GAAD,IAAS;AACbC,kBAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;AACH,iBATD;AAUH,eAX2B,EAWzB,KAXyB,CAD5B;;AAcA,cAAA,KAAI,CAACG,QAAL,CAAc;AAAEb,gBAAAA,UAAU,EAAEA;AAAd,eAAd;AAEH,aAhBD,CAgBE,OAAOc,CAAP,EAAU;AACRH,cAAAA,OAAO,CAACC,GAAR,CAAY,OAAZ;AACH;;AApBqB;AAAA;AAAA;AAAA;AAAA;AAAA;AAqBzB;;AAEDG,EAAAA,oBAAoB,GAAG;AACnBC,IAAAA,aAAa,CAAC,KAAKlB,KAAL,CAAWE,UAAZ,CAAb;AACH;;AAEDiB,EAAAA,MAAM,GAAG;AACL,wBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YADJ;AAKH;;AA1C+B;;AA6CpC,eAAevB,KAAf","sourcesContent":["import React from 'react';\nimport axios from 'axios';\nclass Queue extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            playersWaiting: 0,\n            intervalId: ''\n        }\n    }\n\n    async componentDidMount() {\n\n        try {\n            let intervalId = setInterval(() => {\n                axios({\n                    method: 'GET',\n                    url: 'http://localhost:8000/team/get_team/',\n                    headers: {\n                        Authorization: `JWT ${localStorage.getItem('token')}`,\n\n                    },\n                }).then((res) => {\n                    console.log(res)\n                })\n            }, 10000)\n\n            this.setState({ intervalId: intervalId });\n\n        } catch (e) {\n            console.log('error');\n        }\n    }\n\n    componentWillUnmount() {\n        clearInterval(this.state.intervalId);\n    }\n\n    render() {\n        return (\n            <div>\n                Queue Page\n            </div>\n        )\n    }\n}\n\nexport default Queue;"]},"metadata":{},"sourceType":"module"}